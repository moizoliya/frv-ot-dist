(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{JqHp:function(i,t,n){"use strict";n.r(t),n.d(t,"IncidentDetailPageModule",(function(){return y}));var e=n("ofXK"),o=n("3Pt+"),c=n("TEn/"),s=n("tyNb"),a=n("mrSG"),d=n("eMq3"),b=n("R0Ic"),r=n("fXoL");function h(i,t,n,e){return Object(b.f)(Object(b.e)("{{ timing }}s {{ delay }}s cubic-bezier(0.215, 0.610, 0.355, 1.000)",Object(b.g)([Object(b.i)({opacity:0,transform:"translate3d(0, {{ a }}, 0)",offset:0}),Object(b.i)({opacity:1,transform:"translate3d(0, {{ b }}, 0)",offset:.6}),Object(b.i)({transform:"translate3d(0, {{ c }}, 0)",offset:.75}),Object(b.i)({transform:"translate3d(0, {{ d }}, 0)",offset:.9}),Object(b.i)({opacity:1,transform:"none",offset:1})])),{params:{timing:1,delay:0,a:i,b:t,c:n,d:e}})}const l=h("3000px","-25px","10px","-5px");var p=n("7Vxe"),f=n("gLrh"),u=n("jSb5"),m=n("OlR4"),w=n("jhN1"),S=n("157A"),v=n("DgtY");function O(i,t){if(1&i){const i=r.Tb();r.Sb(0,"div",7),r.Sb(1,"ion-buttons",8),r.Sb(2,"ion-button",2),r.ac("click",(function(){return r.lc(i),r.cc().showPanel(null)})),r.Ob(3,"ion-icon",9),r.Rb(),r.Rb(),r.Sb(4,"h5",10),r.qc(5,"Address"),r.Rb(),r.qc(6),r.Sb(7,"h5",10),r.qc(8,"Description"),r.Rb(),r.qc(9),r.Sb(10,"h5",10),r.qc(11,"Status"),r.Rb(),r.Ob(12,"app-incident-status-badge",11),r.Rb()}if(2&i){const i=r.cc();r.Db(6),r.sc(" ",i.incident.address," "),r.Db(3),r.sc(" ",i.incident.type_desc," "),r.Db(3),r.hc("incident",i.incident)}}function g(i,t){if(1&i&&(r.Sb(0,"ion-col",14),r.qc(1),r.Rb()),2&i){const i=t.$implicit;r.Db(1),r.sc(" ",i," ")}}function D(i,t){if(1&i){const i=r.Tb();r.Sb(0,"div",7),r.Sb(1,"ion-buttons",8),r.Sb(2,"ion-button",2),r.ac("click",(function(){return r.lc(i),r.cc().showPanel(null)})),r.Ob(3,"ion-icon",9),r.Rb(),r.Rb(),r.Sb(4,"h5",10),r.qc(5,"Appliances"),r.Rb(),r.Sb(6,"ion-grid"),r.Sb(7,"ion-row",12),r.pc(8,g,2,1,"ion-col",13),r.Rb(),r.Rb(),r.Rb()}if(2&i){const i=r.cc();r.Db(8),r.hc("ngForOf",i.incident.appliances)}}const I=[{path:"",component:(()=>{class i{constructor(i,t,n,e,o,c){this.route=i,this.popoverController=t,this.fireRescueService=n,this.commonService=e,this.actionSheetCtrl=o,this.sanitizer=c,this.showDetails=!1,this.showAppliances=!1}incidentDetailPopover(i){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.popoverController.create({component:d.a,event:i,componentProps:{incidentId:this.incidentId},animated:!1,showBackdrop:!0});return t.onDidDismiss().then(i=>this.showPanel(i)),yield t.present()}))}showPanel(i){switch(i?i.data:""){case"details":this.showDetails=!0,this.incidentPhoto.hide(),this.showAppliances=!1,this.incidentNote.hide();break;case"appliances":this.showDetails=!1,this.incidentPhoto.hide(),this.showAppliances=!0,this.incidentNote.hide();break;case"photos":this.showDetails=!1,this.showAppliances=!1,this.incidentNote.hide(),this.incidentPhoto.show();break;case"notes":this.showDetails=!1,this.incidentPhoto.hide(),this.showAppliances=!1,this.incidentNote.show();break;default:this.showDetails=!1,this.showAppliances=!1,this.incidentPhoto.hide(),this.incidentNote.hide()}}ngOnInit(){this.isMobile=this.commonService.isMobilePlatform(),this.isDesktop=this.commonService.isDesktopPlatform(),this.route.paramMap.subscribe(i=>{this.incidentId=i.get("incidentId"),this.loadIncident()})}loadIncident(){this.fireRescueService.getIncident(this.incidentId).subscribe(i=>{this.incident=i},i=>Object(a.a)(this,void 0,void 0,(function*(){this.hasError=!0})),()=>{})}}return i.\u0275fac=function(t){return new(t||i)(r.Nb(s.a),r.Nb(c.P),r.Nb(u.a),r.Nb(m.a),r.Nb(c.a),r.Nb(w.b))},i.\u0275cmp=r.Hb({type:i,selectors:[["app-incident-detail"]],viewQuery:function(i,t){var n;1&i&&(r.tc(p.a,!0),r.tc(f.a,!0)),2&i&&(r.kc(n=r.bc())&&(t.incidentPhoto=n.first),r.kc(n=r.bc())&&(t.incidentNote=n.first))},decls:16,vars:6,consts:[["slot","start"],["slot","end"],[3,"click"],["slot","icon-only","ios","ellipsis-horizontal","md","ellipsis-vertical"],["showCircle","true",3,"incidentId"],["class","ion-padding",4,"ngIf"],[3,"incidentId"],[1,"ion-padding"],[1,"ion-float-right"],["slot","icon-only","ios","close-outline","md","close-outline"],[1,"ion-no-padding"],[3,"incident"],["wrap",""],["size-xs","6","size-md","4",4,"ngFor","ngForOf"],["size-xs","6","size-md","4"]],template:function(i,t){1&i&&(r.Sb(0,"ion-header"),r.Sb(1,"ion-toolbar"),r.Sb(2,"ion-title"),r.qc(3),r.Rb(),r.Sb(4,"ion-buttons",0),r.Ob(5,"ion-back-button"),r.Rb(),r.Sb(6,"ion-buttons",1),r.Sb(7,"ion-button",2),r.ac("click",(function(i){return t.incidentDetailPopover(i)})),r.Ob(8,"ion-icon",3),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(9,"ion-content"),r.Ob(10,"app-incident-map",4),r.Rb(),r.Sb(11,"ion-footer"),r.pc(12,O,13,3,"div",5),r.pc(13,D,9,1,"div",5),r.Ob(14,"app-incident-photo",6),r.Ob(15,"app-incident-note",6),r.Rb()),2&i&&(r.Db(3),r.sc("Incident : ",t.incidentId," "),r.Db(7),r.hc("incidentId",t.incidentId),r.Db(2),r.hc("ngIf",t.showDetails),r.Db(1),r.hc("ngIf",t.showAppliances),r.Db(1),r.hc("incidentId",t.incidentId),r.Db(1),r.hc("incidentId",t.incidentId))},directives:[c.p,c.J,c.I,c.g,c.c,c.d,c.f,c.q,c.m,S.a,c.n,e.i,p.a,f.a,v.a,c.o,c.C,e.h,c.l],styles:["ion-footer[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700}ion-footer[_ngcontent-%COMP%]{max-height:50vh;overflow-y:scroll}"],data:{animation:[Object(b.k)("bounceInUp",[Object(b.j)("* => *",Object(b.l)(l))])]}}),i})()}];let R=(()=>{class i{}return i.\u0275mod=r.Lb({type:i}),i.\u0275inj=r.Kb({factory:function(t){return new(t||i)},imports:[[s.i.forChild(I)],s.i]}),i})();var P=n("d2mR");let y=(()=>{class i{}return i.\u0275mod=r.Lb({type:i}),i.\u0275inj=r.Kb({factory:function(t){return new(t||i)},imports:[[e.b,o.d,c.K,R,P.a]]}),i})()}}]);